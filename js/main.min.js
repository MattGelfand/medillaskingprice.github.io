(function(e,t){function c(e){return o.exec(e)?parseFloat(e)/100:e}function h(e){return typeof e=="boolean"?e:!!parseFloat(e)}function p(e){function a(){r.pointer=v(f,[!0,!0],o,s)}function c(){s=m(e);o=g(e);r.threshold=y(s)}function h(){r.timer.add(a)}function p(e){r.timer.remove(a);r.pointer=v([e.pageX,e.pageY],[!0,!0],o,s)}var t={"mouseenter.parallax":h,"mouseleave.parallax":p},n={"resize.parallax":c},r={elem:e,events:t,winEvents:n,timer:new l},i,s,o;u.on(n);e.on(t);c();return r}function d(e,t,n){var r=e.data(t);if(!r){r=n?n(e):{};e.data(t,r)}return r}function v(e,t,n,r){var i=[],s=2;while(s--){i[s]=(e[s]-n[s])/r[s];i[s]=i[s]<0?0:i[s]>1?1:i[s]}return i}function m(e){return[e.width(),e.height()]}function g(e){var t=e.offset()||{left:0,top:0},n=e.css("borderLeftStyle")==="none"?0:parseInt(e.css("borderLeftWidth"),10),r=e.css("borderTopStyle")==="none"?0:parseInt(e.css("borderTopWidth"),10),i=parseInt(e.css("paddingLeft"),10),s=parseInt(e.css("paddingTop"),10);return[t.left+n+i,t.top+r+s]}function y(e){return[1/e[0],1/e[1]]}function b(e,t,n){return[t||e.outerWidth(),n||e.outerHeight()]}function w(e,n){var r=[e,n],s=2,o=[];while(s--)o[s]=typeof r[s]=="string"?r[s]===t?1:i[o[s]]||c(o[s]):r[s];return o}function E(e,t){return[s.test(e),s.test(t)]}function S(e,t,n){var r=[e,t],i=2,s=[];while(i--)s[i]=n[i]?parseInt(r[i],10):s[i]=r[i]===!0?1:c(r[i]);return s}function x(e,t,n,r){var i=2,s=[];while(i--)s[i]=t[i]?n[i]*(r[i]-e[i]):e[i]?n[i]*(1-e[i]):0;return s}function T(e,t){var n=2,r=[];while(n--)e[n]&&(r[n]=t[n]*100+"%");return r}function N(e,t,n,r,i){var s=e.offsetParent(),o=e.position(),u=[],a=[],f=2;while(f--){u[f]=n[f]?0:o[f===0?"left":"top"]/(s[f===0?"outerWidth":"outerHeight"]()-i[f]);a[f]=(u[f]-r[f])/t[f]}return a}function C(e,t,n,r,i,s){var o=[],u,a,f=2,l={};while(f--)if(e[f]){o[f]=e[f]*s[f]+n[f];if(t[f]){u=i[f];a=o[f]*-1}else{u=o[f]*100+"%";a=o[f]*r[f]*-1}if(f===0){l.left=u;l.marginLeft=a}else{l.top=u;l.marginTop=a}}return l}function k(e,t,n,r,i,s,o){var u,a;if((!i[0]||Math.abs(e[0]-t[0])<n[0])&&(!i[1]||Math.abs(e[1]-t[1])<n[1])){s&&s();return o(e)}u=[];a=2;while(a--)i[a]&&(u[a]=e[a]+r*(t[a]-e[a]));return o(u)}function L(e,t,n,r,i,s,o){if(e[0]===t[0]&&e[1]===t[1])return;return o(e)}function A(e,t,n){e.off(t).removeData("parallax_port");u.off(n)}function O(e,t,n){t.elem.off(n);t.layers=t.layers.not(e);t.layers.length===0&&A(t.elem,t.events,t.winEvents)}function M(e){var t={};if(e[0]){t.left="";t.marginLeft=""}if(e[1]){t.top="";t.marginTop=""}elem.css(t)}var n=!0,r={mouseport:"body",xparallax:!0,yparallax:!0,xorigin:.5,yorigin:.5,decay:.66,frameDuration:30,freezeClass:"freeze"},i={left:0,top:0,middle:.5,center:.5,right:1,bottom:1},s=/^\d+\s?px$/,o=/^\d+\s?%$/,u=e(window),a=e(document),f=[0,0],l=function(){function n(){function i(){}function s(){var i=n.slice(0),s=i.length,o=-1;e&&console.log("timer frame()",s);while(++o<s)i[o].call(this);t(r)}function o(){e&&console.log("timer start()");this.start=i;this.stop=u;r=s;t(r)}function u(){e&&console.log("timer stop()");this.start=o;this.stop=i;r=i}var n=[],r;this.callbacks=n;this.start=o;this.stop=u}var e=!1,t=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){return window.setTimeout(function(){e()},25)}}();n.prototype={add:function(t){var n=this.callbacks,r=n.length;while(r--)if(n[r]===t)return;this.callbacks.push(t);e&&console.log("timer add()",this.callbacks.length)},remove:function(t){var n=this.callbacks,r=n.length;while(r--)n[r]===t&&n.splice(r,1);e&&console.log("timer remove()",this.callbacks.length);n.length===0&&this.stop()}};return n}();e.fn.parallax=function(t){var n=e.extend({},e.fn.parallax.options,t),r=arguments,i=n.mouseport instanceof e?n.mouseport:e(n.mouseport),s=d(i,"parallax_port",p),o=s.timer;return this.each(function(t){function O(e){var t=C(p,h,d,l,v,e);u.css(t);m=e}function M(){g(s.pointer,m,s.threshold,f,p,y,O)}function _(){g=L}function D(){o.remove(M)}var i=this,u=e(this),a=r[t+1]?e.extend({},n,r[t+1]):n,f=a.decay,l=b(u,a.width,a.height),c=w(a.xorigin,a.yorigin),h=E(a.xparallax,a.yparallax),p=S(a.xparallax,a.yparallax,h),d=x(p,h,c,l),v=T(h,c),m=N(u,p,h,d,l),g=k,y=_,A={"mouseenter.parallax":function(t){g=k;y=_;o.add(M);o.start()},"mouseleave.parallax":function(t){g=k;y=D}};e.data(i,"parallax")&&u.unparallax();e.data(i,"parallax",{port:s,events:A,parallax:p});s.elem.on(A);s.layers=s.layers?s.layers.add(i):e(i)})};e.fn.unparallax=function(t){return this.each(function(){var n=e.data(this,"parallax");if(!n)return;e.removeData(this,"parallax");O(this,n.port,n.events);t&&M(n.parallax)})};e.fn.parallax.options=r;a.on("mousemove.parallax",function(e){f=[e.pageX,e.pageY]})})(jQuery);jQuery(document).ready(function(){jQuery("#molly-parallax .parallax-layer").parallax({mouseport:jQuery("#molly-parallax")});jQuery("#beer-parallax .parallax-layer").parallax({mouseport:jQuery("#beer-parallax")});jQuery("#dotedu-parallax .parallax-layer").parallax({mouseport:jQuery("#dotedu-parallax")})});